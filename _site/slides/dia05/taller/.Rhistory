datos2 |>
select(tratamiento, protocolo, peso_inicial:album) |>
tbl_summary(by = tratamiento) -> tabla1
tabla1
datos2 <- datos |>
set_variable_labels(peso_inicial = "Peso inicial (kg)",
peso_final = "Peso final (kg)",
chol = "Colesterol sérico (mg/dl)")
# Opcion 1
datos2 |>
select(tratamiento, protocolo, peso_inicial:album) |>
tbl_summary(by = tratamiento) -> tabla1
tabla1
# Opcion 2
datos2 |>
tbl_summary(by = tratamiento,
label = list(glucose ~ "Glucosa (mg/dl)",
tag ~ "Triglicéridos (mg/dl)"),
include = c(tratamiento, protocolo, peso_inicial:album))
# Opcion 1
datos2 |>
select(tratamiento, protocolo, peso_inicial:album) |>
tbl_summary(by = tratamiento) -> tabla1
tabla1
datos2 <- datos |>
mutate(protocolo2 = factor(protocolo,
levels = c("hemiovx", "no ovx", "ovx"),
labels = c("Hemiovarectomizacion",
"No ovarectomización",
"Ovarectomización"))) |>
set_variable_labels(peso_inicial = "Peso inicial (kg)",
peso_final = "Peso final (kg)",
chol = "Colesterol sérico (mg/dl)")
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento) -> tabla1
tabla1
datos2 <- datos |>
mutate(protocolo2 = factor(protocolo,
levels = c("no ovx", "hemiovx",  "ovx"),
labels = c("No ovarectomización",
"Hemiovarectomizacion",
"Ovarectomización"))) |>
set_variable_labels(peso_inicial = "Peso inicial (kg)",
peso_final = "Peso final (kg)",
chol = "Colesterol sérico (mg/dl)")
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento) -> tabla1
tabla1
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento,
statistic = list(peso_inicial ~ "{mean} ({sd})")) -> tabla1
tabla1
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento,
statistic = list(peso_inicial ~ "{mean} mean ({sd})")) -> tabla1
tabla1
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento,
statistic = list(peso_inicial ~ "{mean} ± {sd}")) -> tabla1
tabla1
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento,
statistic = list(peso_inicial ~ "{mean} ± {sd}",
peso_final ~ "{mean} ± {sd}",
peso_utero ~ "{mean} ± {sd}")) -> tabla1
tabla1
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento,
statistic = list(c(peso_inicial, peso_final, peso_utero) ~ "{mean} ± {sd}")) -> tabla1
tabla1
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento,
statistic = list(c(peso_inicial, peso_final, peso_utero) ~ "{mean} ± {sd}",
protocolo ~ "{n} / {N} ({p})")) -> tabla1
tabla1
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento,
statistic = list(c(peso_inicial, peso_final, peso_utero) ~ "{mean} ± {sd}",
protocolo ~ "{n} / {N} ({p}%)")) -> tabla1
tabla1
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento,
statistic = list(all_continuous() ~ "{mean} ± {sd}",
c(protocolo, protocolo2) ~ "{n} / {N} ({p}%)")) -> tabla1
tabla1
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento,
statistic = list(all_continuous() ~ "{mean} ± {sd}",
c(protocolo, protocolo2) ~ "{n} / {N} ({p}%)"),
digits = list(chol ~ 1)) -> tabla1
tabla1
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento,
statistic = list(all_continuous() ~ "{mean} ± {sd}",
c(protocolo, protocolo2) ~ "{n} / {N} ({p}%)"),
digits = list(chol ~ 1)) -> tabla1
tabla1
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento,
statistic = list(all_continuous() ~ "{mean} ± {sd}",
c(protocolo, protocolo2) ~ "{n} / {N} ({p}%)"),
digits = list(c(chol, glucose) ~ 1)) -> tabla1
tabla1
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento,
statistic = list(all_continuous() ~ "{mean} ± {sd}",
c(protocolo, protocolo2) ~ "{n} / {N} ({p}%)"),
digits = list(c(chol, glucose) ~ c(1, 3))) -> tabla1
tabla1
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento,
statistic = list(all_continuous() ~ "{mean} ± {sd}",
c(protocolo, protocolo2) ~ "{n} / {N} ({p}%)"),
digits = list(all_continuous() ~ c(1, 3))) -> tabla1
tabla1
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento,
statistic = list(all_continuous() ~ "{mean} ± {sd}",
c(protocolo, protocolo2) ~ "{n} / {N} ({p}%)"),
digits = list(all_continuous() ~ 1)) -> tabla1
tabla1
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento,
statistic = list(all_continuous() ~ "{mean} ± {sd}",
c(protocolo, protocolo2) ~ "{n} / {N} ({p}%)"),
digits = list(all_continuous() ~ 1,
all_categorical() ~ c(0, 0, 1))) -> tabla1
tabla1
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento,
statistic = list(all_continuous() ~ "{mean} ± {sd}",
c(protocolo, protocolo2) ~ "{n} / {N} ({p}%)"),
digits = list(all_continuous() ~ 1,
all_categorical() ~ c(0, 0, 1)),
missing_text = "Dato perdido") -> tabla1
tabla1
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento,
statistic = list(all_continuous() ~ "{mean} ± {sd}",
c(protocolo, protocolo2) ~ "{n} / {N} ({p}%)"),
digits = list(all_continuous() ~ 1,
all_categorical() ~ c(0, 0, 1)),
missing_text = "Dato perdido",
missing = "always") -> tabla1
tabla1
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento,
statistic = list(all_continuous() ~ "{mean} ± {sd}",
c(protocolo, protocolo2) ~ "{n} / {N} ({p}%)"),
digits = list(all_continuous() ~ 1,
all_categorical() ~ c(0, 0, 1)),
missing_text = "Dato perdido",
missing = "no") -> tabla1
tabla1
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento,
type = list(glucose ~ "continuous2"),
statistic = list(all_continuous() ~ "{mean} ± {sd}",
c(protocolo, protocolo2) ~ "{n} / {N} ({p}%)"),
digits = list(all_continuous() ~ 1,
all_categorical() ~ c(0, 0, 1)),
missing_text = "Dato perdido",
missing = "ifany") -> tabla1
tabla1
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento,
type = list(glucose ~ "continuous2"),
statistic = list(glucose ~ c("{mean} ± {sd}",
"{median} ({p25}, {p75}),
"{min}, {max}"),
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento,
type = list(glucose ~ "continuous2"),
statistic = list(glucose ~ c("{mean} ± {sd}",
"{median} ({p25}, {p75})",
"{min}, {max}"),
all_continuous() ~ "{mean} ± {sd}",
c(protocolo, protocolo2) ~ "{n} / {N} ({p}%)"),
digits = list(all_continuous() ~ 1,
all_categorical() ~ c(0, 0, 1)),
missing_text = "Dato perdido",
missing = "ifany") -> tabla1
tabla1
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento,
type = list(glucose ~ "continuous2"),
statistic = list(glucose ~ c("{mean} ± {sd}",
"{median} ({p25}, {p75})",
"{min}, {max}"),
# all_continuous() ~ "{mean} ± {sd}",
c(protocolo, protocolo2) ~ "{n} / {N} ({p}%)"),
digits = list(all_continuous() ~ 1,
all_categorical() ~ c(0, 0, 1)),
missing_text = "Dato perdido",
missing = "ifany") -> tabla1
tabla1
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento,
type = list(all_continuous() ~ "continuous2"),
statistic = list(all_continuous() ~ c("{mean} ± {sd}",
"{median} ({p25}, {p75})",
"{min}, {max}"),
c(protocolo, protocolo2) ~ "{n} / {N} ({p}%)"),
digits = list(all_continuous() ~ 1,
all_categorical() ~ c(0, 0, 1)),
missing_text = "Dato perdido",
missing = "ifany") -> tabla1
tabla1
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento,
type = list(all_continuous() ~ "continuous2"),
statistic = list(all_continuous() ~ c("{mean} ± {sd}",
"{median} ({p25}, {p75})",
"{min}, {max}"),
c(protocolo, protocolo2) ~ "{n} / {N} ({p}%)"),
digits = list(all_continuous() ~ 1,
all_categorical() ~ c(0, 0, 1)),
missing_text = "Dato perdido",
missing = "ifany") |>
add_bold() -> tabla1
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento,
type = list(all_continuous() ~ "continuous2"),
statistic = list(all_continuous() ~ c("{mean} ± {sd}",
"{median} ({p25}, {p75})",
"{min}, {max}"),
c(protocolo, protocolo2) ~ "{n} / {N} ({p}%)"),
digits = list(all_continuous() ~ 1,
all_categorical() ~ c(0, 0, 1)),
missing_text = "Dato perdido",
missing = "ifany") |>
bold_labels() -> tabla1
tabla1
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento,
type = list(all_continuous() ~ "continuous2"),
statistic = list(all_continuous() ~ c("{mean} ± {sd}",
"{median} ({p25}, {p75})",
"{min}, {max}"),
c(protocolo, protocolo2) ~ "{n} / {N} ({p}%)"),
digits = list(all_continuous() ~ 1,
all_categorical() ~ c(0, 0, 1)),
missing_text = "Dato perdido",
missing = "ifany") |>
bold_labels() |>
italicize_labels() -> tabla1
tabla1
show_header_names(tabla1)
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento,
type = list(all_continuous() ~ "continuous2"),
statistic = list(all_continuous() ~ c("{mean} ± {sd}",
"{median} ({p25}, {p75})",
"{min}, {max}"),
c(protocolo, protocolo2) ~ "{n} / {N} ({p}%)"),
digits = list(all_continuous() ~ 1,
all_categorical() ~ c(0, 0, 1)),
missing_text = "Dato perdido",
missing = "ifany") |>
bold_labels() |>
italicize_labels() |>
modify_header(stat1 ~ "control, N = 5 (%)",
stat2 ~ "maca, N = 5 (%)") -> tabla1
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento,
type = list(all_continuous() ~ "continuous2"),
statistic = list(all_continuous() ~ c("{mean} ± {sd}",
"{median} ({p25}, {p75})",
"{min}, {max}"),
c(protocolo, protocolo2) ~ "{n} / {N} ({p}%)"),
digits = list(all_continuous() ~ 1,
all_categorical() ~ c(0, 0, 1)),
missing_text = "Dato perdido",
missing = "ifany") |>
bold_labels() |>
italicize_labels() |>
modify_header(stat_1 ~ "control, N = 5 (%)",
stat_2 ~ "maca, N = 5 (%)") -> tabla1
tabla1
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento,
type = list(all_continuous() ~ "continuous2"),
statistic = list(all_continuous() ~ c("{mean} ± {sd}",
"{median} ({p25}, {p75})",
"{min}, {max}"),
c(protocolo, protocolo2) ~ "{n} / {N} ({p}%)"),
digits = list(all_continuous() ~ 1,
all_categorical() ~ c(0, 0, 1)),
missing_text = "Dato perdido",
missing = "ifany") |>
bold_labels() |>
italicize_labels() |>
modify_header(stat_1 ~ "**control, N = 5 (%)**",
stat_2 ~ "**maca, N = 5 (%)**") -> tabla1
tabla1
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento,
type = list(all_continuous() ~ "continuous2"),
statistic = list(all_continuous() ~ c("{mean} ± {sd}",
"{median} ({p25}, {p75})",
"{min}, {max}"),
c(protocolo, protocolo2) ~ "{n} / {N} ({p}%)"),
digits = list(all_continuous() ~ 1,
all_categorical() ~ c(0, 0, 1)),
missing_text = "Dato perdido",
missing = "ifany") |>
bold_labels() |>
italicize_labels() |>
modify_header(stat_1 ~ "**Trat. Control\nN = 5 (%)**",
stat_2 ~ "**Trat. Maca\nN = 5 (%)**") -> tabla1
tabla1
# Opcion 1
datos2 |>
select(tratamiento, protocolo, protocolo2, peso_inicial:album) |>
tbl_summary(by = tratamiento,
type = list(all_continuous() ~ "continuous2"),
statistic = list(all_continuous() ~ c("{mean} ± {sd}",
"{median} ({p25}, {p75})",
"{min}, {max}"),
c(protocolo, protocolo2) ~ "{n} / {N} ({p}%)"),
digits = list(all_continuous() ~ 1,
all_categorical() ~ c(0, 0, 1)),
missing_text = "Dato perdido",
missing = "ifany") |>
bold_labels() |>
italicize_labels() |>
modify_header(stat_1 ~ "**Trat. Control\nN = 5 (%)**",
stat_2 ~ "**Trat. Maca\nN = 5 (%)**") |>
add_p() -> tabla1
tabla1
## Regresion multivariable
modelo <- lm(peso_final ~ tratamiento + chol + glucose, data = datos)
modelo |>
tbl_regression()
modelo |>
tbl_regression() |>
add_global_p()
datos |>
select(peso_final, tratamiento, chol, glucose) |>
tbl_uvregression(
method = lm,
y = peso_final
)
modelo |>
tbl_regression() |>
add_global_p() -> tabla2a
tabla2a
modelo |>
tbl_regression() |>
add_global_p() -> tabla2b
tabla2b
datos |>
select(peso_final, tratamiento, chol, glucose) |>
tbl_uvregression(
method = lm,
y = peso_final
) -> tabla2a
tabla2a
tbl_merge(list(tabla2a, tabla2b))
tbl_merge(list(tabla2a, tabla2b),
tab_spanner = c("Modelos crudos", "Modelo ajustado"))
tbl_merge(list(tabla2a, tabla2b),
tab_spanner = c("**Modelos crudos**", "**Modelo ajustado**"))
tbl_merge(list(tabla2a, tabla2b),
tab_spanner = c("**Modelos crudos**", "**Modelo ajustado**")) |>
add_global_p()
modelo |>
tbl_regression() |>
add_global_p() -> tabla2b
tabla2b
datos |>
select(peso_final, tratamiento, chol, glucose) |>
tbl_uvregression(
method = lm,
y = peso_final
) |>
add_global_p() -> tabla2a
tabla2a
tbl_merge(list(tabla2a, tabla2b),
tab_spanner = c("**Modelos crudos**", "**Modelo ajustado**"))
tbl_merge(list(tabla2a, tabla2b),
tab_spanner = c("**Modelos crudos**", "**Modelo ajustado**")) -> tabla2
tabla2 |>
as_hux_xlsx("Tabla2.xlsx")
tabla2
datos |>
ggplot(aes(x = tratamiento, y = chol)) +
geom_boxplot() +
geom_jitter()
datos |>
ggplot(aes(x = tratamiento, y = chol)) +
geom_boxplot() +
geom_jitter() +
theme_bw()
datos |>
ggplot(aes(x = tratamiento, y = chol)) +
geom_boxplot() +
geom_jitter() +
theme_bw() -> plot_cajas
plot_cajas
ggsave(filename = "Plot_Grafico_Cajas.png",
plot = plot_cajas,
device = "png",
scale = 1,
width = 12,
height = 9,
units = "cm",
dpi = 600,
bg = "white")
include_graphics("Plot_Grafico_Cajas.png")
ggsave(filename = "Plot_Grafico_Cajas.png",
plot = plot_cajas,
device = "png",
scale = 2,
width = 12,
height = 9,
units = "cm",
dpi = 600,
bg = "white")
include_graphics("Plot_Grafico_Cajas.png")
if (!require("pacman")) install.packages("pacman")
pacman::p_load(tidyverse,
rio,
labelled,
gtsummary,
knitr,
flextable,
huxtable,
gt,
here)
here()
here("Datos")
here("Datos", "Crudos")
here("Tablas", "Tabla1_flex.docx")
# exportar a Word usando flextsble como intermedio
tabla1 |>
as_flex_table() |>
save_as_docx(path = here("Tablas", "Tabla1_flex.docx"))
datos <- import(here("Datos", "Crudos", "maca_meno_perclin.csv"))
ggsave(filename = "Plot_Grafico_Cajas.pdf",
plot = plot_cajas,
device = "pdf",
scale = 2,
width = 12,
height = 9,
units = "cm",
dpi = 600,
bg = "white")
